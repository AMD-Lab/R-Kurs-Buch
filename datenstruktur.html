<!DOCTYPE html>
<html lang="de" xml:lang="de">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Datenstruktur | Einführung in R</title>
  <meta name="description" content="Dies ist eine Einführung in R, die in verschiedenen Lehrveranstaltungen der Arbeitseinheiten Analyse und Modellierung komplexer Daten und Methodenlehre und Statistik des Psychologischen Instituts der Johannes Gutenberg-Universität Mainz genutzt werden." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Datenstruktur | Einführung in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Dies ist eine Einführung in R, die in verschiedenen Lehrveranstaltungen der Arbeitseinheiten Analyse und Modellierung komplexer Daten und Methodenlehre und Statistik des Psychologischen Instituts der Johannes Gutenberg-Universität Mainz genutzt werden." />
  <meta name="github-repo" content="AMD-Lab/R-Kurs-Buch" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Datenstruktur | Einführung in R" />
  
  <meta name="twitter:description" content="Dies ist eine Einführung in R, die in verschiedenen Lehrveranstaltungen der Arbeitseinheiten Analyse und Modellierung komplexer Daten und Methodenlehre und Statistik des Psychologischen Instituts der Johannes Gutenberg-Universität Mainz genutzt werden." />
  



<meta name="date" content="2022-10-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="erste-schritte-1.html"/>
<link rel="next" href="datenaufbereitung-mit-dplyr.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Einführung in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Über dieses Skript</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#feedback"><i class="fa fa-check"></i><b>1.1</b> Feedback</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="einführung.html"><a href="einführung.html"><i class="fa fa-check"></i><b>2</b> Einführung</a><ul>
<li class="chapter" data-level="2.1" data-path="einführung.html"><a href="einführung.html#installation"><i class="fa fa-check"></i><b>2.1</b> Installation</a></li>
<li class="chapter" data-level="2.2" data-path="einführung.html"><a href="einführung.html#erste-schritte"><i class="fa fa-check"></i><b>2.2</b> Erste Schritte</a></li>
<li class="chapter" data-level="2.3" data-path="einführung.html"><a href="einführung.html#das-r-skript"><i class="fa fa-check"></i><b>2.3</b> Das R-Skript</a></li>
<li class="chapter" data-level="2.4" data-path="einführung.html"><a href="einführung.html#struktur-des-skripts"><i class="fa fa-check"></i><b>2.4</b> Struktur des Skripts</a></li>
<li class="chapter" data-level="2.5" data-path="einführung.html"><a href="einführung.html#pakete"><i class="fa fa-check"></i><b>2.5</b> Pakete</a></li>
<li class="chapter" data-level="2.6" data-path="einführung.html"><a href="einführung.html#working-directory"><i class="fa fa-check"></i><b>2.6</b> Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html"><i class="fa fa-check"></i><b>3</b> Erste Schritte</a><ul>
<li class="chapter" data-level="3.1" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#zahlen"><i class="fa fa-check"></i><b>3.1</b> Zahlen</a></li>
<li class="chapter" data-level="3.2" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#variablen"><i class="fa fa-check"></i><b>3.2</b> Variablen</a></li>
<li class="chapter" data-level="3.3" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#funktionen"><i class="fa fa-check"></i><b>3.3</b> Funktionen</a><ul>
<li class="chapter" data-level="3.3.1" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#funktionsargumente"><i class="fa fa-check"></i><b>3.3.1</b> Funktionsargumente</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#vektoren"><i class="fa fa-check"></i><b>3.4</b> Vektoren</a><ul>
<li class="chapter" data-level="3.4.1" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-numeric"><i class="fa fa-check"></i><b>3.4.1</b> Datentyp numeric</a></li>
<li class="chapter" data-level="3.4.2" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-character"><i class="fa fa-check"></i><b>3.4.2</b> Datentyp character</a></li>
<li class="chapter" data-level="3.4.3" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-logical"><i class="fa fa-check"></i><b>3.4.3</b> Datentyp logical</a></li>
<li class="chapter" data-level="3.4.4" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-factor"><i class="fa fa-check"></i><b>3.4.4</b> Datentyp factor</a></li>
<li class="chapter" data-level="3.4.5" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-na"><i class="fa fa-check"></i><b>3.4.5</b> Datentyp NA</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#auswahl-von-vektorelementen"><i class="fa fa-check"></i><b>3.5</b> Auswahl von Vektorelementen</a></li>
<li class="chapter" data-level="3.6" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#logische-vergleiche"><i class="fa fa-check"></i><b>3.6</b> Logische Vergleiche</a><ul>
<li class="chapter" data-level="3.6.1" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-numeric-1"><i class="fa fa-check"></i><b>3.6.1</b> Datentyp numeric</a></li>
<li class="chapter" data-level="3.6.2" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-character-1"><i class="fa fa-check"></i><b>3.6.2</b> Datentyp character</a></li>
<li class="chapter" data-level="3.6.3" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#datentyp-factor-1"><i class="fa fa-check"></i><b>3.6.3</b> Datentyp factor</a></li>
<li class="chapter" data-level="3.6.4" data-path="erste-schritte-1.html"><a href="erste-schritte-1.html#rekodieren-von-variablen-mit-hilfe-logischer-vergleich"><i class="fa fa-check"></i><b>3.6.4</b> Rekodieren von Variablen mit Hilfe logischer Vergleich</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datenstruktur.html"><a href="datenstruktur.html"><i class="fa fa-check"></i><b>4</b> Datenstruktur</a><ul>
<li class="chapter" data-level="4.1" data-path="datenstruktur.html"><a href="datenstruktur.html#rmarkdown"><i class="fa fa-check"></i><b>4.1</b> RMarkdown</a></li>
<li class="chapter" data-level="4.2" data-path="datenstruktur.html"><a href="datenstruktur.html#hilfe"><i class="fa fa-check"></i><b>4.2</b> Hilfe</a></li>
<li class="chapter" data-level="4.3" data-path="datenstruktur.html"><a href="datenstruktur.html#wiederholung-werte-vektoren"><i class="fa fa-check"></i><b>4.3</b> Wiederholung: Werte &amp; Vektoren</a><ul>
<li class="chapter" data-level="4.3.1" data-path="datenstruktur.html"><a href="datenstruktur.html#coercion-umwandlung-von-typen"><i class="fa fa-check"></i><b>4.3.1</b> Coercion (Umwandlung von Typen)</a></li>
<li class="chapter" data-level="4.3.2" data-path="datenstruktur.html"><a href="datenstruktur.html#aufruf-per-index-von-daten-aus-mehreren-ebenen"><i class="fa fa-check"></i><b>4.3.2</b> Aufruf per Index von Daten aus mehreren Ebenen</a></li>
<li class="chapter" data-level="4.3.3" data-path="datenstruktur.html"><a href="datenstruktur.html#nullwerte"><i class="fa fa-check"></i><b>4.3.3</b> Nullwerte</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="datenstruktur.html"><a href="datenstruktur.html#der-workspace"><i class="fa fa-check"></i><b>4.4</b> Der Workspace</a></li>
<li class="chapter" data-level="4.5" data-path="datenstruktur.html"><a href="datenstruktur.html#wiederholung-einfache-berechnungen"><i class="fa fa-check"></i><b>4.5</b> Wiederholung: Einfache Berechnungen</a><ul>
<li class="chapter" data-level="4.5.1" data-path="datenstruktur.html"><a href="datenstruktur.html#übersicht-berechnungsfunktionen"><i class="fa fa-check"></i><b>4.5.1</b> Übersicht Berechnungsfunktionen</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="datenstruktur.html"><a href="datenstruktur.html#matrizen"><i class="fa fa-check"></i><b>4.6</b> Matrizen</a></li>
<li class="chapter" data-level="4.7" data-path="datenstruktur.html"><a href="datenstruktur.html#tidy-daten"><i class="fa fa-check"></i><b>4.7</b> tidy Daten</a><ul>
<li class="chapter" data-level="4.7.1" data-path="datenstruktur.html"><a href="datenstruktur.html#tidyverse"><i class="fa fa-check"></i><b>4.7.1</b> tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="datenstruktur.html"><a href="datenstruktur.html#data.frames-df-und-tibbles-tib"><i class="fa fa-check"></i><b>4.8</b> data.frames (df) und tibbles (tib)</a></li>
<li class="chapter" data-level="4.9" data-path="datenstruktur.html"><a href="datenstruktur.html#einlesen-und-speichern-von-daten"><i class="fa fa-check"></i><b>4.9</b> Einlesen und Speichern von Daten</a></li>
<li class="chapter" data-level="4.10" data-path="datenstruktur.html"><a href="datenstruktur.html#datensätze-dat-anschauen"><i class="fa fa-check"></i><b>4.10</b> Datensätze (dat) anschauen</a><ul>
<li class="chapter" data-level="4.10.1" data-path="datenstruktur.html"><a href="datenstruktur.html#häufigkeit-von-factorlevels"><i class="fa fa-check"></i><b>4.10.1</b> Häufigkeit von Factorlevels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html"><i class="fa fa-check"></i><b>5</b> Datenaufbereitung mit <code>dplyr</code></a><ul>
<li class="chapter" data-level="5.1" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#einführung-1"><i class="fa fa-check"></i><b>5.1</b> Einführung</a></li>
<li class="chapter" data-level="5.2" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#dplyr-die-wichtigsten-befehle"><i class="fa fa-check"></i><b>5.2</b> <code>dplyr</code>: Die wichtigsten Befehle</a></li>
<li class="chapter" data-level="5.3" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#beispiel-filtern-von-beobachtungen-mit-filter"><i class="fa fa-check"></i><b>5.3</b> Beispiel: Filtern von Beobachtungen mit <code>filter()</code></a><ul>
<li class="chapter" data-level="5.3.1" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#filtern-von-strings-factors"><i class="fa fa-check"></i><b>5.3.1</b> Filtern von Strings / Factors</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#dplyr-der-piping-operator"><i class="fa fa-check"></i><b>5.4</b> <code>dplyr</code>: Der Piping Operator <code>%&gt;%</code></a></li>
<li class="chapter" data-level="5.5" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#beispiel"><i class="fa fa-check"></i><b>5.5</b> Beispiel</a></li>
<li class="chapter" data-level="5.6" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#dplyr-neue-variablen-mit-mutate-berechnen"><i class="fa fa-check"></i><b>5.6</b> <code>dplyr</code>: Neue Variablen mit <code>mutate()</code> berechnen</a></li>
<li class="chapter" data-level="5.7" data-path="datenaufbereitung-mit-dplyr.html"><a href="datenaufbereitung-mit-dplyr.html#beispiel-1"><i class="fa fa-check"></i><b>5.7</b> Beispiel</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html"><i class="fa fa-check"></i><b>6</b> Deskriptive Statistik</a><ul>
<li class="chapter" data-level="6.1" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#allgemeine-informationen-eines-datensatzes"><i class="fa fa-check"></i><b>6.1</b> Allgemeine Informationen eines Datensatzes</a></li>
<li class="chapter" data-level="6.2" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#lagemaße"><i class="fa fa-check"></i><b>6.2</b> Lagemaße</a><ul>
<li class="chapter" data-level="6.2.1" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#minimum-und-maximum"><i class="fa fa-check"></i><b>6.2.1</b> Minimum und Maximum</a></li>
<li class="chapter" data-level="6.2.2" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#quantile-und-perzentile"><i class="fa fa-check"></i><b>6.2.2</b> Quantile und Perzentile</a></li>
<li class="chapter" data-level="6.2.3" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#interquantilsabstand-iqa"><i class="fa fa-check"></i><b>6.2.3</b> Interquantilsabstand (IQA)</a></li>
<li class="chapter" data-level="6.2.4" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#mittelwert"><i class="fa fa-check"></i><b>6.2.4</b> Mittelwert</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#streuungsmaße"><i class="fa fa-check"></i><b>6.3</b> Streuungsmaße</a><ul>
<li class="chapter" data-level="6.3.1" data-path="deskriptive-statistik.html"><a href="deskriptive-statistik.html#standardabweichung"><i class="fa fa-check"></i><b>6.3.1</b> Standardabweichung</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Graphiken mit <code>ggplot2</code></a><ul>
<li class="chapter" data-level="7.1" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#exkurs-warum-viridis"><i class="fa fa-check"></i><b>7.1</b> Exkurs: Warum <code>viridis</code>?</a></li>
<li class="chapter" data-level="7.2" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#ggplot2-einführung"><i class="fa fa-check"></i><b>7.2</b> <code>ggplot2</code> – Einführung</a></li>
<li class="chapter" data-level="7.3" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#vor-der-visualisierung-die-daten"><i class="fa fa-check"></i><b>7.3</b> Vor der Visualisierung: Die Daten</a></li>
<li class="chapter" data-level="7.4" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#ästhetische-mapping"><i class="fa fa-check"></i><b>7.4</b> Ästhetische Mapping</a></li>
<li class="chapter" data-level="7.5" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#graphischen-funktionen"><i class="fa fa-check"></i><b>7.5</b> Graphischen Funktionen</a><ul>
<li class="chapter" data-level="7.5.1" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#säulen--und-balkendiagramm"><i class="fa fa-check"></i><b>7.5.1</b> Säulen- und Balkendiagramm</a></li>
<li class="chapter" data-level="7.5.2" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#histogramm"><i class="fa fa-check"></i><b>7.5.2</b> Histogramm</a></li>
<li class="chapter" data-level="7.5.3" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#qq-plot"><i class="fa fa-check"></i><b>7.5.3</b> QQ-Plot</a></li>
<li class="chapter" data-level="7.5.4" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#boxplot"><i class="fa fa-check"></i><b>7.5.4</b> Boxplot</a></li>
<li class="chapter" data-level="7.5.5" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#violinen-plot"><i class="fa fa-check"></i><b>7.5.5</b> Violinen-Plot</a></li>
<li class="chapter" data-level="7.5.6" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#beeswarm-plot-mit-dem-paket-ggbeeswarm"><i class="fa fa-check"></i><b>7.5.6</b> Beeswarm Plot mit dem Paket <code>ggbeeswarm</code></a></li>
<li class="chapter" data-level="7.5.7" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#scatterplot"><i class="fa fa-check"></i><b>7.5.7</b> Scatterplot</a></li>
<li class="chapter" data-level="7.5.8" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#linearer-fit"><i class="fa fa-check"></i><b>7.5.8</b> (Linearer) Fit</a></li>
<li class="chapter" data-level="7.5.9" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#linienplot"><i class="fa fa-check"></i><b>7.5.9</b> Linienplot</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#sonstige-funktionalität"><i class="fa fa-check"></i><b>7.6</b> Sonstige Funktionalität</a><ul>
<li class="chapter" data-level="7.6.1" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#labels"><i class="fa fa-check"></i><b>7.6.1</b> Labels</a></li>
<li class="chapter" data-level="7.6.2" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#thema"><i class="fa fa-check"></i><b>7.6.2</b> Thema</a></li>
<li class="chapter" data-level="7.6.3" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#position"><i class="fa fa-check"></i><b>7.6.3</b> Position</a></li>
<li class="chapter" data-level="7.6.4" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#legenden"><i class="fa fa-check"></i><b>7.6.4</b> Legenden</a></li>
<li class="chapter" data-level="7.6.5" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#koordinatensysteme"><i class="fa fa-check"></i><b>7.6.5</b> Koordinatensysteme</a></li>
<li class="chapter" data-level="7.6.6" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#farbskalen"><i class="fa fa-check"></i><b>7.6.6</b> Farbskalen</a></li>
<li class="chapter" data-level="7.6.7" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#variablenskalen"><i class="fa fa-check"></i><b>7.6.7</b> Variablenskalen</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="graphiken-mit-ggplot2.html"><a href="graphiken-mit-ggplot2.html#facetten"><i class="fa fa-check"></i><b>7.7</b> Facetten</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/AMD-Lab/R-Kurs-Buch" target="blank">
Veröffentlicht auf GitHub, erstellt mit bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Einführung in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="datenstruktur" class="section level1 hasAnchor">
<h1><span class="header-section-number">4</span> Datenstruktur<a href="datenstruktur.html#datenstruktur" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<table>
<colgroup>
<col width="73%" />
<col width="26%" />
</colgroup>
<thead>
<tr class="header">
<th>Thema</th>
<th>Inhalte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Werte, Vektoren, Listen</td>
<td><code>chr</code>, <code>num</code>, <code>logi</code>, <code>c()</code>, <code>list()</code>, <code>mode()</code>, <em>coercion</em>, <em>Abruf von Elementen,</em> <code>list(list())</code></td>
</tr>
<tr class="even">
<td>Workspace</td>
<td><code>rm()</code>, <em>Besen</em></td>
</tr>
<tr class="odd">
<td>Berechnungen</td>
<td><em>Übersicht Berechnungsfunktionen, </em>z<em>-Standardisierung</em></td>
</tr>
<tr class="even">
<td>Matrizen</td>
<td><code>matrix()</code>, <em>2D Indizierung</em></td>
</tr>
<tr class="odd">
<td>tidy Daten</td>
<td><em>Zeilen: Beobachtungen, Spalten: Variablen</em></td>
</tr>
<tr class="even">
<td><code>tidyverse</code></td>
<td><em>Installation und</em> <code>library(package)</code></td>
</tr>
<tr class="odd">
<td><code>data.frame</code> und <code>tibble</code></td>
<td><em>Unterschiede</em>, <code>as.data.frame()</code>, <code>as_tibble()</code>, <code>$</code>, <code>[]</code>, <em>Zugriff auf Zeile, Spalte &amp; Zelle, Zeilennamen</em></td>
</tr>
<tr class="even">
<td>Daten laden und speichern</td>
<td><em>Import per klick,</em> <code>read./{*}</code>, <code>sep=</code>, <code>dec=</code>, .xlsx, .svs, <code>write./{*}.csv()</code></td>
</tr>
<tr class="odd">
<td>Daten anschauen</td>
<td><code>View()</code>, <code>head()</code>, <code>str()</code>, <code>count()</code></td>
</tr>
</tbody>
</table>
<div id="rmarkdown" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.1</span> RMarkdown<a href="datenstruktur.html#rmarkdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Das R Markdown Skript ist ein besonderes Dateiformat für R Skripte. Es enthält Fließtext und eingebetteten R Code:</p>
<p><img src="_static/RMarkmitNum.png" style="width:60.0%" /></p>
<p><code>Knittet</code> man dieses Skript mit dem Wollknäuel Button (5.) in der oberen Leiste, integriert es den ausgeführten Code mit dem Fließtext und druckt ein übersichtliches Dokument (html, pdf, txt oder doc). Das ist praktisch um z.B. Auswertungsergebnisse zu präsentieren.</p>
<ol style="list-style-type: decimal">
<li>Im Header werden Titel und Dokumententyp für das Ausgabe-Dokument festgelegt</li>
<li>Die Code Blöcke (<code>Chunks</code>) sind mit je drei rückwärts gestellten Hochkommata (<code>Backticks</code>) am Anfang und Ende des Chunks eingerahmt. Werden sie vom R Markdown Skript als solche erkannt, wird auch die Hintergrundfarbe automatisch abgeändert. Im ersten Chunk sollten <code>globale Chunk Optionen festgelegt</code>(z.B. Working Directory setzen oder ändern), alle notwendigen <code>Packages geladen</code> und die <code>Daten eingelesen</code> werden.</li>
<li>Den Fließtext kann man mit Überschriften (<code>#</code>) und Unterüberschriften (<code>##</code>) strukturieren, im Code kennzeichnet <code>#</code>
Kommentare</li>
<li>Zu Beginn eines Chunks muss man innerhalb einer geschwungenen Klammer spezifizieren(```{…}):</li>
</ol>
<ul>
<li><p>Es ist möglich Codechunks von anderen Programmiersprachen (z.B. Python oder TeX) einzubetten, Standard ist <code>r</code></p></li>
<li><p>(optional) Nach einem Leerzeichen: Einzigartiger Chunk-Name</p></li>
<li><p>(optional) Nach einem Komma: Befehle, um die Ausgabe des Chunks in das neue Dokument zu steuern:</p>
<ul>
<li><code>include = FALSE</code> Weder Code noch Ergebnis erscheinen</li>
<li><code>echo = FALSE</code> Nur das Code-Ergebnis erscheint</li>
<li><code>message = FALSE</code> Nachrichten zum Code erscheinen nicht</li>
<li><code>warning = FALSE</code> Warnungenzum Code erscheinen nicht</li>
<li><code>fig.cap = "..."</code> Hiermit lassen sich Grafiken beschriften</li>
</ul></li>
</ul>
</div>
<div id="hilfe" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.2</span> Hilfe<a href="datenstruktur.html#hilfe" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sie merken, dass die Befehle und Funktionen zum Teil sehr spezifisch sind und Sie sich kaum alles behalten können. Am wichtigsten ist die Reihenfolge und Vollständigkeit der Zeichen: Vergessen Sie ein Komma, ein Backtick oder eine Klammer zu setzen, dann kann R den Code schon nicht interpretieren. Zum Glück erkennt R Studio das oft und weist einen darauf während des Codens mit einem <code>roten x</code> neben der Zeilennummer hin. Andernfalls erscheint eine Fehlermeldung beim Ausführen des Codes.</p>
<p>Wenn Sie den Namen einer Funktion oder eines Packages nicht direkt erinnern, können Sie den Anfang des Namens im <code>Chunk</code> oder in der <code>Console</code> eingeben, RStudio bietet einem nach einem kurzen Moment eine Liste möglicher Optionen an, aus der Sie wählen können. Haben Sie eine Funktion gewählt, können Sie die <code>Tab</code>-Taste drücken und es werden die verschiedenen Funktionsargumente angezeigt, um die Funktion zu spezifizieren, was oft sehr hilfreich ist. Möchten Sie wissen, was eine Funktion macht oder in welcher Reihenfolge die Funktionsargumente eingegeben werden, können Sie <code>?FUN</code> in die <code>Console</code> eintippen, wobei FUN Platzhalter für den Funktionsnamen ist. Alternativ können Sie im <code>Help</code>-tab unten rechts suchen. Die Dokumentation ist oft sehr ausführlich.</p>
<p>Im Zweifelsfall haben Sie immer die Möglichkeit einschlägige Suchmaschinen im Internet zu verwenden. Oft werden Sie dabei auf <code>StackOverflow</code> weitergeleitet. Auf Englisch gestellte Fragen oder Probleme führen zu besseren Treffern. Noch trivialer ist es, im Skript des Kurses oder im eigenen Code nachzuschauen, die Tasten <kbd>STRG</kbd> + <kbd>F</kbd> habe ich schon 1000 Mal gedrückt, sie könnten dabei hilfreich sein. Falls Sie bei anderen Autoren nachlesen möchten, gibt es Bücher zu R, die meist sogar kostenlos online zur Verfügung stehen und einem eine Einführung in R geben: Z.B. <code>R Cookbook</code> oder <code>R for Data Science</code>.</p>
</div>
<div id="wiederholung-werte-vektoren" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.3</span> Wiederholung: Werte &amp; Vektoren<a href="datenstruktur.html#wiederholung-werte-vektoren" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Datenformate in R sind von einfach zu komplex: <code>Value</code>, Vektor, <code>matrix</code>, (<code>array</code>), <code>data.frame</code>, <code>tibble</code> und <code>list</code>. Ihnen noch unbekannte Datenformate werde im Laufe des Kapitels erklärt.
Die kleinste Objekteinheit in R ist ein <code>Value</code>. Die unterschiedlichen Datentypen von <code>Values</code> sind bereits bekannt:</p>
<ol style="list-style-type: decimal">
<li>Text, bzw. Charakter (<code>chr</code>), auch String genannt,</li>
<li>numerische Werte (<code>num</code>), auch <code>double</code></li>
<li>logische Werte (<code>logi</code>)</li>
<li>fehlende Werte (<code>NA</code>), <code>Not Available</code></li>
</ol>
<p>Sie weisen einem Objektnamen einen Wert per <code>&lt;-</code> zu (Shortkey: <kbd>ALT</kbd> + <kbd>-</kbd>), der Datentyp des <code>Values</code> wird automatisch erkannt.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="datenstruktur.html#cb126-1"></a>var1 &lt;-<span class="st"> </span><span class="ot">TRUE</span>      <span class="co"># Typ logi </span></span>
<span id="cb126-2"><a href="datenstruktur.html#cb126-2"></a>var2 &lt;-<span class="st"> </span><span class="fl">3.5</span>       <span class="co"># Typ num</span></span>
<span id="cb126-3"><a href="datenstruktur.html#cb126-3"></a>var3 &lt;-<span class="st"> &quot;kreativ&quot;</span> <span class="co"># Typ chr  </span></span></code></pre></div>
<p>Mit der Funktion <code>mode()</code> können Sie sich den Datentypen anzeigen lassen.
Vektoren reihen Werte desselben Datentyps auf <code>c(Wert1, Wert2, ...)</code>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="datenstruktur.html#cb127-1"></a><span class="co"># c() kombiniert die Werte zu einem Vektor, der dem Variablennamen vec1 zugewiesen wird:</span></span>
<span id="cb127-2"><a href="datenstruktur.html#cb127-2"></a></span>
<span id="cb127-3"><a href="datenstruktur.html#cb127-3"></a>vec1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="fl">3.4</span>)</span></code></pre></div>
<p>Wenn Sie versuchen Elemenete mit unterschiedlichen Datentypen ein einen Vektor zusammenzufassen, z.B. <code>c("kreativ", 3.5)</code>, wobei <code>"kreativ"</code> einen komplexeren Typ (Text ofer <em>character</em>) als <code>3.5</code> (numerisch oder <em>double</em>) besitzt, werden die Typen der Elemente vereinheitlich. Dabei wird der Typ des weniger komplexen Element in den Typ des komplexeren Elements umgewandelt, sodass alle Elemente des Vektors den komplexeren Datentyp besitzen. Die Datentypen-Übersichtstabelle ist von komplex zu einfach (1–4) geordnet. Die Umwandlung des Datentypen nennt sich <code>coercion</code>.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="datenstruktur.html#cb128-1"></a><span class="co"># Versuche `chr` und `num` zu einem Vektor zu kombinieren:</span></span>
<span id="cb128-2"><a href="datenstruktur.html#cb128-2"></a></span>
<span id="cb128-3"><a href="datenstruktur.html#cb128-3"></a><span class="kw">c</span>(<span class="st">&quot;kreativ&quot;</span>, <span class="fl">3.5</span>)  </span></code></pre></div>
<pre><code>## [1] &quot;kreativ&quot; &quot;3.5&quot;</code></pre>
<p>3.5 wird in <code>""</code> ausgegeben, der numerische Wert wurde in Text umgewandelt.</p>
<div id="coercion-umwandlung-von-typen" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.3.1</span> Coercion (Umwandlung von Typen)<a href="datenstruktur.html#coercion-umwandlung-von-typen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sie können den Datentypen auch per Funktion ändern, z.B. <code>as.character()</code>, <code>as.double()</code>:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="datenstruktur.html#cb130-1"></a><span class="co"># Verändere die Werte unterschiedlicher Typen zum Typ chr:</span></span>
<span id="cb130-2"><a href="datenstruktur.html#cb130-2"></a></span>
<span id="cb130-3"><a href="datenstruktur.html#cb130-3"></a><span class="kw">as.character</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">TRUE</span>, <span class="st">&quot;abc&quot;</span>, <span class="fl">4.1627</span>))</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;      &quot;TRUE&quot;   &quot;abc&quot;    &quot;4.1627&quot;</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="datenstruktur.html#cb132-1"></a><span class="co"># Coerce zum Typ num. Ist dies nicht möglich, erscheinen NAs:</span></span>
<span id="cb132-2"><a href="datenstruktur.html#cb132-2"></a></span>
<span id="cb132-3"><a href="datenstruktur.html#cb132-3"></a><span class="kw">as.double</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="ot">TRUE</span>, <span class="st">&quot;abc&quot;</span>, <span class="fl">4.1627</span>))</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] 2.0000     NA     NA 4.1627</code></pre>
<p><code>Coercion</code> gibt es auch in Matrizen, Arrays (Mehrdimensionale Matrizen) und in Spaltenvektoren von Datensätzen (data.frames und tibbles). Nur Listen können verschiedene Datentypen und Elemente enthalten <code>list(Element1, Element2, ...)</code>. Das können Strings, Vektoren, aber auch Datensätze, Funktionen und sogar andere Listen sein.</p>
</div>
<div id="aufruf-per-index-von-daten-aus-mehreren-ebenen" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.3.2</span> Aufruf per Index von Daten aus mehreren Ebenen<a href="datenstruktur.html#aufruf-per-index-von-daten-aus-mehreren-ebenen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ihnen ist bekannt, dass Sie zum Zugriff auf einzelne Elemente deren Indexnummer verwenden können:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="datenstruktur.html#cb135-1"></a>vec_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">7</span>) <span class="co"># Definition eines Vektors</span></span>
<span id="cb135-2"><a href="datenstruktur.html#cb135-2"></a></span>
<span id="cb135-3"><a href="datenstruktur.html#cb135-3"></a>vec_<span class="dv">4</span>[<span class="dv">2</span>]            <span class="co"># Abruf des 2. Elements von vec_4   </span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Das geht auch in verschachtelten Listen:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="datenstruktur.html#cb137-1"></a><span class="co"># Definiere eine Liste, die eine Liste und einen Vektor enthält:</span></span>
<span id="cb137-2"><a href="datenstruktur.html#cb137-2"></a><span class="co"># (Anm.: hier habe ich keine Namen für die Elemente vergeben)</span></span>
<span id="cb137-3"><a href="datenstruktur.html#cb137-3"></a></span>
<span id="cb137-4"><a href="datenstruktur.html#cb137-4"></a>mylist &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>),</span>
<span id="cb137-5"><a href="datenstruktur.html#cb137-5"></a>               vec_<span class="dv">4</span>)</span>
<span id="cb137-6"><a href="datenstruktur.html#cb137-6"></a></span>
<span id="cb137-7"><a href="datenstruktur.html#cb137-7"></a><span class="co"># Rufe Element 1 der äußeren Liste: (1, &quot;a&quot;), und davon dann Element 2 ab:</span></span>
<span id="cb137-8"><a href="datenstruktur.html#cb137-8"></a></span>
<span id="cb137-9"><a href="datenstruktur.html#cb137-9"></a>mylist[[<span class="dv">1</span>]][<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot;</code></pre>
<p>Ich habe jetzt mehrere Variablen (Values, Vektoren, Listen) definiert, sie sind in meinem RStudio im <code>Environment</code>-tab oben rechts aufgetaucht.</p>
</div>
<div id="nullwerte" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.3.3</span> Nullwerte<a href="datenstruktur.html#nullwerte" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In (fast) jedem Experiment und jeder Erhebung kommt es mal vor, das Daten fehlen. Es kann sein, dass Versuchspersonen einen Fragebogen nicht ausgefüllt haben oder man die Schrift einfach nicht lesen konnte. Solche Werte müssen ebenfalls kodiert werden, aber entsprechend als <em>fehlend</em>. Wir haben bereits gesehen, dass wir solche fehlenden Werte in R mit dem Wert <code>NA</code> (“not availible”) kodieren können. R hat allerdings noch zwei weitere Arten von <strong><em>Nullwerten</em></strong>.</p>
<p>Neben <code>NA</code> gibt es auch noch <code>NULL</code>. Dieser Wert wird verwendet, wenn wir eine Variable definieren möchten, ihr aber noch keinen Wert zuweisen wollen. In diesem Fall können wir der Variable eine Art <em>Platzhalter</em> als Wert zuweisen, der gar keinen Wert hat, also quasi <em>leer</em> ist. Dieser “leere Wert” ist <code>NULL</code>.</p>
<p>Gleichzeitig können wir <code>NULL</code> verwenden, wenn wir ein Objekt aus einer <code>list</code> oder eine Spalte aus einem <code>data.frame</code> entfernen wollen – wir weisen dem Element einfach den Wert <code>NULL</code> zu:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="datenstruktur.html#cb139-1"></a>Experiment_Reaktionszeit &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;x&quot;</span> =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="st">&quot;y&quot;</span> =<span class="st"> </span><span class="dv">11</span><span class="op">:</span><span class="dv">20</span>)</span>
<span id="cb139-2"><a href="datenstruktur.html#cb139-2"></a>Experiment_Reaktionszeit<span class="op">$</span>x &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb139-3"><a href="datenstruktur.html#cb139-3"></a>Experiment_Reaktionszeit</span></code></pre></div>
<pre><code>##     y
## 1  11
## 2  12
## 3  13
## 4  14
## 5  15
## 6  16
## 7  17
## 8  18
## 9  19
## 10 20</code></pre>
<p>Der letzte Nullwert, den R kennt, ist <code>NaN</code> (“Not a Number”). <code>NaN</code> taucht immer dann auf, wenn wir Zahlen nicht darstellen können oder das Ergebnis einer Berechnung nicht definiert ist, beispielsweise wenn wir versuchen, durch Null zu teilen oder den Logarithmus einer negativen Zahl berechnen. <code>NaN</code> ist technisch gesehen ein numerischer Wert – wir können ihn daher auch zusammen mit anderen numerischen Werten, beispielsweise in einem numerischen Vektor, verwenden.</p>
</div>
</div>
<div id="der-workspace" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.4</span> Der Workspace<a href="datenstruktur.html#der-workspace" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Rechts oben im Fenster ist das <code>Environment</code>-tab. Hier sieht man alle im <code>global Workspace</code> definierten Objekte (Datenstrukturen: Werte, Vektoren, Matrizen, Arrays, Listen, <code>data.frames</code>, <code>tibbles</code>; und Funktionen) aufgelistet:</p>
<p><img src="_static/Workspace.PNG" style="width:60.0%" /></p>
<p>Bei Werten, Vektoren und Matrizen steht sogar der Datentyp des Objektes mit dabei. Per Doppelklick können Sie die Objekte jeweils einzeln oben links im extra Fenster (<code>Datenansicht-tab</code> ) anschauen. <code>rm(Objektname)</code> ist die Funktion zum Entfernen einzelner Objekte aus dem <code>globalen Workspace</code>. Das <code>Besensymbol</code> im <code>Environment</code>-tab oben rechts fegt den <code>globalen Workspace</code> leer. Es ist zu beachten, dass R Markdown beim <code>knitten</code> nicht auf den <code>globalen Workspace</code> zugreift, sondern einen eigenen Workspace aus dem Code in den <code>Chunks</code> erstellt. Beim Ausführen einzelner <code>Chunks</code> per Markieren und <code>STRG/CTRL</code>&amp;<code>Enter</code> oder <code>grüner Pfeil rechts</code> wird jedoch auf den <code>globalen Workspace</code> zugegriffen. Beim Schließen von RStudio werden Sie gefragt, ob Sie den <code>globalen Workspace</code> in die <code>.RData</code> als img speichern lassen, dann stehen die Objekte in der nächsten Sitzung wieder zur Verfügung, solange Sie dieselbe Projektdatei öffnen. Offene Skipte und offene <code>Datenansicht</code>-tabs werden beim Schließen ebenfalls mit der Projektdatei assoziiert. Geladene Packages gehen leider verloren, diese müssen Sie jedes Mal beim Starten von RStudio neu laden: <code>library(Packagename)</code>. Deshalb ist es Konvention am Anfang jedes Skriptes erstmal die Packages zu laden. Haben Sie Objekte im Workspace gespeichert, können Sie deren Namen verwenden, um sich auf diese zu beziehen und z.B. weitere Berechnungen vorzunehmen.</p>
</div>
<div id="wiederholung-einfache-berechnungen" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.5</span> Wiederholung: Einfache Berechnungen<a href="datenstruktur.html#wiederholung-einfache-berechnungen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="datenstruktur.html#cb141-1"></a>x &lt;-<span class="st"> </span><span class="dv">5</span>     <span class="co"># definiert den Wert der Variable x</span></span>
<span id="cb141-2"><a href="datenstruktur.html#cb141-2"></a>y &lt;-<span class="st"> </span><span class="dv">5</span>     <span class="co"># definiert den Wert der Variable y</span></span>
<span id="cb141-3"><a href="datenstruktur.html#cb141-3"></a>x <span class="op">+</span><span class="st"> </span>y      <span class="co"># Summe von x und y</span></span>
<span id="cb141-4"><a href="datenstruktur.html#cb141-4"></a>x <span class="op">*</span><span class="st"> </span>y      <span class="co"># Produkt von x und y</span></span>
<span id="cb141-5"><a href="datenstruktur.html#cb141-5"></a><span class="kw">sqrt</span>(x)    <span class="co"># Wurzel aus x</span></span>
<span id="cb141-6"><a href="datenstruktur.html#cb141-6"></a>x<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">2</span>)   <span class="co"># x hoch 0.5</span></span>
<span id="cb141-7"><a href="datenstruktur.html#cb141-7"></a></span>
<span id="cb141-8"><a href="datenstruktur.html#cb141-8"></a><span class="co"># Weise der Variable z das Ergebnis der Gleichung `x + y` zu. `z` erscheint im Workspace:</span></span>
<span id="cb141-9"><a href="datenstruktur.html#cb141-9"></a></span>
<span id="cb141-10"><a href="datenstruktur.html#cb141-10"></a>z &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span>y</span>
<span id="cb141-11"><a href="datenstruktur.html#cb141-11"></a></span>
<span id="cb141-12"><a href="datenstruktur.html#cb141-12"></a><span class="co"># Multipliziere die Elemente von vec_4 mit 5 und speichere als Variable e:</span></span>
<span id="cb141-13"><a href="datenstruktur.html#cb141-13"></a></span>
<span id="cb141-14"><a href="datenstruktur.html#cb141-14"></a>e &lt;-<span class="st"> </span>vec_<span class="dv">4</span> <span class="op">*</span><span class="st"> </span><span class="dv">5</span></span></code></pre></div>
<p>In R gibt es einige integrierte Funktionen um mit Vektoren zu rechnen:</p>
<div id="übersicht-berechnungsfunktionen" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.5.1</span> Übersicht Berechnungsfunktionen<a href="datenstruktur.html#übersicht-berechnungsfunktionen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Folgende Funktionen können Sie auf <code>num</code>-Vektoren und Matrizen anwenden, je nach Funktion auch auf <code>chr</code> Vektoren oder Datensätze, wobei diese sich dann meist nur auf die Einträge in der oberen Ebene, z.B. auf die Anzahl der Spalten und nicht auf die Spalteneinträge beziehen.</p>
<table>
<colgroup>
<col width="25%" />
<col width="22%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Funktion</th>
<th align="center">Bedeutung</th>
<th align="center">Funktion</th>
<th align="center">Bedeutung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong><code>min(x)</code></strong></td>
<td align="center">Minimum</td>
<td align="center"><strong><code>mean(x)</code></strong></td>
<td align="center">Mittelwert</td>
</tr>
<tr class="even">
<td align="center"><strong><code>max(x)</code></strong></td>
<td align="center">Maximum</td>
<td align="center"><strong><code>median(x)</code></strong></td>
<td align="center">Median</td>
</tr>
<tr class="odd">
<td align="center"><strong><code>range(x)</code></strong></td>
<td align="center">Range</td>
<td align="center"><strong><code>var(x)</code></strong></td>
<td align="center">Varianz</td>
</tr>
<tr class="even">
<td align="center"><strong><code>sort(x)</code></strong></td>
<td align="center">sortiert <code>x</code></td>
<td align="center"><strong><code>sd(x)</code></strong></td>
<td align="center">Standardabweichung</td>
</tr>
<tr class="odd">
<td align="center"><strong><code>sum(x)</code></strong></td>
<td align="center">Summe aller
Elemente</td>
<td align="center"><strong><code>quantile(x)</code></strong></td>
<td align="center">Quantile von <code>x</code></td>
</tr>
<tr class="even">
<td align="center"><strong><code>cor(x, y)</code></strong></td>
<td align="center">Korrelation
von <code>x</code> und <code>y</code></td>
<td align="center"><strong><code>length()</code></strong></td>
<td align="center">Länge von <code>x</code></td>
</tr>
</tbody>
</table>
<div id="beispiel-einer-z-standardisierung-eines-vektors-mit-3-einträgen" class="section level4 hasAnchor">
<h4><span class="header-section-number">4.5.1.1</span> Beispiel einer <em>z</em>-Standardisierung eines Vektors mit 3 Einträgen<a href="datenstruktur.html#beispiel-einer-z-standardisierung-eines-vektors-mit-3-einträgen" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="datenstruktur.html#cb142-1"></a><span class="co"># Def. der Variable geschwister:</span></span>
<span id="cb142-2"><a href="datenstruktur.html#cb142-2"></a></span>
<span id="cb142-3"><a href="datenstruktur.html#cb142-3"></a>geschwister &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">12</span>)</span>
<span id="cb142-4"><a href="datenstruktur.html#cb142-4"></a></span>
<span id="cb142-5"><a href="datenstruktur.html#cb142-5"></a><span class="co"># MW:</span></span>
<span id="cb142-6"><a href="datenstruktur.html#cb142-6"></a>mw_geschwister &lt;-<span class="st"> </span><span class="kw">mean</span>(geschwister)</span>
<span id="cb142-7"><a href="datenstruktur.html#cb142-7"></a></span>
<span id="cb142-8"><a href="datenstruktur.html#cb142-8"></a>mw_geschwister</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="datenstruktur.html#cb144-1"></a><span class="co"># SD :</span></span>
<span id="cb144-2"><a href="datenstruktur.html#cb144-2"></a>sd_geschwister &lt;-<span class="st"> </span><span class="kw">sd</span>(geschwister)</span>
<span id="cb144-3"><a href="datenstruktur.html#cb144-3"></a></span>
<span id="cb144-4"><a href="datenstruktur.html#cb144-4"></a>sd_geschwister</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="datenstruktur.html#cb146-1"></a><span class="co"># z-Standardisierung des Vektors:</span></span>
<span id="cb146-2"><a href="datenstruktur.html#cb146-2"></a>z_geschwister &lt;-<span class="st"> </span>(geschwister<span class="op">-</span>mw_geschwister) <span class="op">/</span><span class="st"> </span>sd_geschwister</span>
<span id="cb146-3"><a href="datenstruktur.html#cb146-3"></a></span>
<span id="cb146-4"><a href="datenstruktur.html#cb146-4"></a>z_geschwister</span></code></pre></div>
<pre><code>## [1]  0 -1  1</code></pre>
</div>
</div>
</div>
<div id="matrizen" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.6</span> Matrizen<a href="datenstruktur.html#matrizen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Matrizen sind 2D-Datenstrukturen, sie bestehen aus Vektoren <span class="ul">gleicher</span> Länge und enthalten <span class="ul">einen</span> Datentyp. Mit dem
Befehl <code>matrix()</code> können sie erstellt werden:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="datenstruktur.html#cb148-1"></a><span class="co"># Erstellt die Matrix bsp_mat mit 4 Zeilen, 4 Spalten und leeren Einträgen: </span></span>
<span id="cb148-2"><a href="datenstruktur.html#cb148-2"></a></span>
<span id="cb148-3"><a href="datenstruktur.html#cb148-3"></a>bsp_mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NaN</span>, <span class="dt">nrow =</span> <span class="dv">4</span>, <span class="dt">ncol =</span> <span class="dv">4</span>) <span class="co"># NaN (Not a Number) ist vom Typ `num`</span></span>
<span id="cb148-4"><a href="datenstruktur.html#cb148-4"></a></span>
<span id="cb148-5"><a href="datenstruktur.html#cb148-5"></a>bsp_mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]  NaN  NaN  NaN  NaN
## [2,]  NaN  NaN  NaN  NaN
## [3,]  NaN  NaN  NaN  NaN
## [4,]  NaN  NaN  NaN  NaN</code></pre>
<p>Ich habe eine 4×4 Matrix erstellt, die mit NaNs gefüllt ist. Hätte ich diverse Datentypen zugeordnet, wären diese zum komplexeren <code>coerced</code> worden. Auf Werte in Matrizen kann mit <code>matrixname[Zeilennummer, Spaltenummer]</code> zugegriffen werden. Praktischerweise stehen die entspechenden Indizes neben der oben angezeigten Matrix. Beispiele zum Auswählen und Zuweisen neuer Werte:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="datenstruktur.html#cb150-1"></a><span class="co"># Weil Spalte 1 von bsp_mat und vec_4 dieselbe Länge haben,</span></span>
<span id="cb150-2"><a href="datenstruktur.html#cb150-2"></a><span class="co"># kann ich der Spalte 1 die Einträge von vec_4 zuweisen.</span></span>
<span id="cb150-3"><a href="datenstruktur.html#cb150-3"></a><span class="co"># Dadurch, dass der Eintrag für die Zeilennummer leer ist, </span></span>
<span id="cb150-4"><a href="datenstruktur.html#cb150-4"></a><span class="co"># beziehe ich mich auf alle Zeilen:</span></span>
<span id="cb150-5"><a href="datenstruktur.html#cb150-5"></a></span>
<span id="cb150-6"><a href="datenstruktur.html#cb150-6"></a>bsp_mat[ , <span class="dv">1</span>] &lt;-<span class="st"> </span>vec_<span class="dv">4</span></span>
<span id="cb150-7"><a href="datenstruktur.html#cb150-7"></a></span>
<span id="cb150-8"><a href="datenstruktur.html#cb150-8"></a>bsp_mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1  NaN  NaN  NaN
## [2,]    3  NaN  NaN  NaN
## [3,]    3  NaN  NaN  NaN
## [4,]    7  NaN  NaN  NaN</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="datenstruktur.html#cb152-1"></a><span class="co"># Recycling: Wird einem Bereich ein einzelner Wert zugeordnet,</span></span>
<span id="cb152-2"><a href="datenstruktur.html#cb152-2"></a><span class="co"># wird dieser vervielfacht (wie oben bei NaN):</span></span>
<span id="cb152-3"><a href="datenstruktur.html#cb152-3"></a></span>
<span id="cb152-4"><a href="datenstruktur.html#cb152-4"></a>bsp_mat[ , <span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">8</span></span>
<span id="cb152-5"><a href="datenstruktur.html#cb152-5"></a></span>
<span id="cb152-6"><a href="datenstruktur.html#cb152-6"></a>bsp_mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    8  NaN  NaN
## [2,]    3    8  NaN  NaN
## [3,]    3    8  NaN  NaN
## [4,]    7    8  NaN  NaN</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="datenstruktur.html#cb154-1"></a><span class="co"># Definiere `logi` Einträge in `num` Matrix:</span></span>
<span id="cb154-2"><a href="datenstruktur.html#cb154-2"></a></span>
<span id="cb154-3"><a href="datenstruktur.html#cb154-3"></a>bsp_mat[ , <span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</span>
<span id="cb154-4"><a href="datenstruktur.html#cb154-4"></a>bsp_mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    8    0  NaN
## [2,]    3    8    1  NaN
## [3,]    3    8    0  NaN
## [4,]    7    8    1  NaN</code></pre>
<p>Coercion: <code>TRUE</code> wurde zu 1 und <code>FALSE</code> wurde zu 0. Wenn man nun eine bestimmte Zeile oder Spalte betrachten möchte, kann man dies auch über die Indizierung tun, hierbei kann man sich beliebig austoben. Die Regeln dafür sind dieselben wie bei Vektoren, nur in 2D, wobei stets <code>[Zeile, Spalte]</code> gilt.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="datenstruktur.html#cb156-1"></a>bsp_mat[,<span class="dv">1</span>]   <span class="co"># Wählt alle Zeilen von Spalte 1</span></span></code></pre></div>
<pre><code>## [1] 1 3 3 7</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="datenstruktur.html#cb158-1"></a>bsp_mat[<span class="dv">4</span>,<span class="dv">1</span>]  <span class="co"># Wählt Zeile 4 von Spalte 1</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<p>Hier wird es turbulent:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="datenstruktur.html#cb160-1"></a>bsp_mat[<span class="kw">c</span>(<span class="dv">1</span> , <span class="dv">3</span>), ] <span class="co"># Wählt Zeilen 1 &amp; 3 von allen Spalten</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    8    0  NaN
## [2,]    3    8    0  NaN</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="datenstruktur.html#cb162-1"></a>bsp_mat[<span class="op">-</span><span class="dv">1</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>]  <span class="co"># Wählt alle Zeilen außer 1, und Spalten 2-4</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    8    1  NaN
## [2,]    8    0  NaN
## [3,]    8    1  NaN</code></pre>
<p>Da ich jetzt Bereiche der Matrix auswählen kann, kann ich vielleicht Berechnungen vornehmen:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="datenstruktur.html#cb164-1"></a><span class="kw">mode</span>(bsp_mat)  <span class="co"># Ist bsp_mat numerisch?</span></span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="datenstruktur.html#cb166-1"></a>bsp_mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    8    0  NaN
## [2,]    3    8    1  NaN
## [3,]    3    8    0  NaN
## [4,]    7    8    1  NaN</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="datenstruktur.html#cb168-1"></a><span class="co"># Spalte 2 minus Spalte 1 und dann mal Spalte 3:</span></span>
<span id="cb168-2"><a href="datenstruktur.html#cb168-2"></a></span>
<span id="cb168-3"><a href="datenstruktur.html#cb168-3"></a>(bsp_mat[ , <span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>bsp_mat[ , <span class="dv">1</span>]) <span class="op">*</span><span class="st"> </span>bsp_mat[ , <span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 0 5 0 1</code></pre>
<p>Es sind immer noch nicht angegebene Nummernwerte in der Matrix. Da ich mich beim Berechnen auf Bereiche der Matrix beschränke, die vergebene numerische Werte haben (Spalten 1 bis 3 ohne <code>NaN</code> Einträge), habe ich ein sinnvolles Ergebnis bekommen. Was passiert, wenn ich mit <code>NaN</code> Einträgen rechnen möchte?</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="datenstruktur.html#cb170-1"></a>bsp_mat[<span class="dv">1</span>, ]      <span class="co"># wählt Zeile 1</span></span></code></pre></div>
<pre><code>## [1]   1   8   0 NaN</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="datenstruktur.html#cb172-1"></a><span class="co"># Bilde die Summe über Zeile 1 mit NaN:</span></span>
<span id="cb172-2"><a href="datenstruktur.html#cb172-2"></a></span>
<span id="cb172-3"><a href="datenstruktur.html#cb172-3"></a><span class="kw">sum</span>(bsp_mat[<span class="dv">1</span>, ]) </span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<p>Die Summe der Zeile führt zu keinem interpretierbaren Ergebnis. Zum Auslassen der NaNs wird das Funktionsargument <code>na.rm = TRUE</code> verwendet (rm steht für <em>remove</em>):</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="datenstruktur.html#cb174-1"></a><span class="co"># Bilde die Summe über Zeile 1 ohne NaN:</span></span>
<span id="cb174-2"><a href="datenstruktur.html#cb174-2"></a></span>
<span id="cb174-3"><a href="datenstruktur.html#cb174-3"></a><span class="kw">sum</span>(bsp_mat[<span class="dv">1</span>, ], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="datenstruktur.html#cb176-1"></a><span class="co"># Bilde den MW der Matrix ohne NaN:</span></span>
<span id="cb176-2"><a href="datenstruktur.html#cb176-2"></a></span>
<span id="cb176-3"><a href="datenstruktur.html#cb176-3"></a><span class="kw">mean</span>(bsp_mat, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Nun, da wir mit dem Rechnen in Matrizen vertraut sind, möchte ich die letzte Spalte mit Einträgen füllen:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="datenstruktur.html#cb178-1"></a><span class="co"># Speichere bsp_mat unter sav_mat zur späteren Verwendung:</span></span>
<span id="cb178-2"><a href="datenstruktur.html#cb178-2"></a></span>
<span id="cb178-3"><a href="datenstruktur.html#cb178-3"></a>sav_mat &lt;-<span class="st"> </span>bsp_mat</span>
<span id="cb178-4"><a href="datenstruktur.html#cb178-4"></a></span>
<span id="cb178-5"><a href="datenstruktur.html#cb178-5"></a><span class="co"># Weise Spalte 4 einen `chr`-Vektor zu:</span></span>
<span id="cb178-6"><a href="datenstruktur.html#cb178-6"></a></span>
<span id="cb178-7"><a href="datenstruktur.html#cb178-7"></a>bsp_mat[,<span class="dv">4</span>] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;coercion&quot;</span>, <span class="st">&quot;kann&quot;</span>, <span class="st">&quot;nervig&quot;</span>, <span class="st">&quot;sein&quot;</span>)</span>
<span id="cb178-8"><a href="datenstruktur.html#cb178-8"></a></span>
<span id="cb178-9"><a href="datenstruktur.html#cb178-9"></a>bsp_mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]      
## [1,] &quot;1&quot;  &quot;8&quot;  &quot;0&quot;  &quot;coercion&quot;
## [2,] &quot;3&quot;  &quot;8&quot;  &quot;1&quot;  &quot;kann&quot;    
## [3,] &quot;3&quot;  &quot;8&quot;  &quot;0&quot;  &quot;nervig&quot;  
## [4,] &quot;7&quot;  &quot;8&quot;  &quot;1&quot;  &quot;sein&quot;</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="datenstruktur.html#cb180-1"></a><span class="kw">mode</span>(bsp_mat) <span class="co"># Bestimmt Typ der Matrix</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Konnte ich eben noch den Mittelwert einer Spalte bilden, so geht das jetzt nicht mehr, da alle Einträge der Matrix zu <code>chr</code> coerced wurden. In einem typischen Datensatz sind aber Variablen verschiedener Typen (<code>num</code> und <code>chr</code>) enthalten. Dieses Problem ließe sich mit Listen lösen, welche aber unübersichtlich sind. Datensätze bestehen manchmal aus unüberschaubar vielen Einträgen und deshalb sollten sie wenigstens übersichtlich strukturiert sein.</p>
</div>
<div id="tidy-daten" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.7</span> tidy Daten<a href="datenstruktur.html#tidy-daten" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Es gibt eine Konvention dafür, wie man Datensätze, die mehreren Beobachtungseinheiten (Fällen) verschiedene Parameter (Variablen) zuordnet. Wichtig für die eigene strukturierte Arbeit ist in erster Linie Konsistenz, z.B. dass Sie bei Variablennamen aus mehreren Wörtern immer den Unterstrich als Trennzeichen verwenden. Es hat sich als überlegen für die Auswertung von Daten herausgestellt, Fälle in Zeilen und Variablen in Spalten einzuordnen. Dieses Prinzip dürfte einigen schon von SPSS bekannt sein.</p>
<table>
<thead>
<tr class="header">
<th align="center"></th>
<th align="center">Variable1</th>
<th align="center">Variable2</th>
<th align="center">Was ist ‘tidy’ data?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Fall1</td>
<td align="center">Wert11</td>
<td align="center">Wert12</td>
<td align="center"><span class="ul">Eine Zeile</span> pro <span class="ul">Beobachtung</span></td>
</tr>
<tr class="even">
<td align="center">Fall2</td>
<td align="center">Wert21</td>
<td align="center">Wert22</td>
<td align="center"><span class="ul">Eine Spalte</span> pro <span class="ul">Variable</span></td>
</tr>
<tr class="odd">
<td align="center">Fall3</td>
<td align="center">Wert31</td>
<td align="center">Wert32</td>
<td align="center">Eine Tabelle pro Untersuchung</td>
</tr>
<tr class="even">
<td align="center">Fall4</td>
<td align="center">Wert41</td>
<td align="center">Wert42</td>
<td align="center">eindeutige Namen</td>
</tr>
<tr class="odd">
<td align="center">Fall5</td>
<td align="center">Wert51</td>
<td align="center">Wert52</td>
<td align="center">Konsistenz</td>
</tr>
<tr class="even">
<td align="center">Fall6</td>
<td align="center">Wert61</td>
<td align="center">Wert62</td>
<td align="center">…</td>
</tr>
</tbody>
</table>
<div class="figure">
<img src="_static/tidydata_2.png" style="width:100.0%" alt="" />
<p class="caption">Illustration by Allison Horst</p>
</div>
<p>Es gibt noch weitere Koventionen und Empfehlungen für konsistentes und ordentliches Arbeiten in R und mit Datensätzen im Allgemeinen, z.B. dass man keine Farbcodierungen verwenden sollte. Vorerst genügt es, wenn Sie sich an die Basics hier halten. Diese Art Daten zu strukturieren lässt sich im <code>data.frame</code> und noch besser im <code>tibble</code> umsetzen: Beides sind Tabellen mit Spaltenvektoren, die jeweils verschiedene Datentypen enthalten können. Deswegen stellen beide das bevorzugte und für unsere Zwecke wichtigste Datenformat dar.</p>
<div id="tidyverse" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.7.1</span> tidyverse<a href="datenstruktur.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Bevor wir uns dem übersichtlichsten Datenformat, den <code>tibble</code>s widmen, müssen wir das entsprechende Package einmalig in der <code>Console</code> installieren. Ich habe den Code auskommentiert, weil das Package bei mir bereits installiert ist:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="datenstruktur.html#cb182-1"></a><span class="co"># R kennt den Namen von zu installierenden Packages noch nicht, deswegen in &quot;&quot;:</span></span>
<span id="cb182-2"><a href="datenstruktur.html#cb182-2"></a></span>
<span id="cb182-3"><a href="datenstruktur.html#cb182-3"></a><span class="co">#install.packages(&quot;tidyverse&quot;)</span></span></code></pre></div>
<p>Das Package <code>tidyverse</code> enthält mehrere nützliche Packages, die eine saubere Datenverarbeitung zum Ziel haben. Packages müssen bei jeder Sitzung neu aktiviert bzw. angehängt werden. Für Sie relevante Packages im tidyverse sind <code>tibble</code>, <code>readr</code>, <code>stringr</code>, <code>dplyr</code>, <code>purr</code> und <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="datenstruktur.html#cb183-1"></a><span class="co"># Bitte gewöhnen Sie sich an, Packages am Anfang eines Skriptes zu laden, </span></span>
<span id="cb183-2"><a href="datenstruktur.html#cb183-2"></a><span class="co"># da Sie dies nach jedem Neustart einer R Session wiederholen müssen:</span></span>
<span id="cb183-3"><a href="datenstruktur.html#cb183-3"></a></span>
<span id="cb183-4"><a href="datenstruktur.html#cb183-4"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
</div>
</div>
<div id="data.frames-df-und-tibbles-tib" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.8</span> data.frames (df) und tibbles (tib)<a href="datenstruktur.html#data.frames-df-und-tibbles-tib" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Beides sind Tabellen mit Spaltenvektoren (Variablen), die je verschiedene Datentypen enthalten können. Hier zunächst die Übersicht über die Funktionen zum Managen des Datensatzes:</p>
<table>
<colgroup>
<col width="29%" />
<col width="40%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Funktion zum</th>
<th align="center"><code>data.frame()</code></th>
<th align="center"><code>tibble()</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Datenformat konvertieren</td>
<td align="center"><code>as.data.frame()</code></td>
<td align="center"><code>as_tibble()</code></td>
</tr>
<tr class="even">
<td align="center">Definieren</td>
<td align="center"><code>data.frame(var1, ...)</code></td>
<td align="center"><code>tibble(var1, ...)</code></td>
</tr>
<tr class="odd">
<td align="center">Aufrufen des Datensatzes</td>
<td align="center"><code>df</code></td>
<td align="center"><code>tib</code></td>
</tr>
<tr class="even">
<td align="center">Auswählen einer Variable</td>
<td align="center"><code>df$var</code></td>
<td align="center"><code>tib$var</code></td>
</tr>
<tr class="odd">
<td align="center">Auswählen eines Bereiches</td>
<td align="center"><code>df[rowIdx, colIdx]</code></td>
<td align="center"><code>tib[rowIdx, colIdx]</code></td>
</tr>
<tr class="even">
<td align="center">Definieren neuer Variablen</td>
<td align="center"><code>df$var_neu &lt;- c(...)</code></td>
<td align="center"><code>tib$var_neu &lt;- c(...)</code></td>
</tr>
<tr class="odd">
<td align="center">Ergänzen von Zeilen</td>
<td align="center"><code>rbind(df, Zeilen)</code></td>
<td align="center"><code>rbind(tib, Zeilen)</code></td>
</tr>
<tr class="even">
<td align="center">Ergänzen von Spalten</td>
<td align="center"><code>cbind(df, Spalten)</code></td>
<td align="center"><code>cbind(tib, Spalten)</code></td>
</tr>
<tr class="odd">
<td align="center">Zeilennamen vergeben</td>
<td align="center"><code>row.names(df) &lt;- c("name1", ...)</code></td>
<td align="center"><code>relocate(tib, namevec)</code></td>
</tr>
</tbody>
</table>
<p>Sie können die beiden Datensatz-Formate einfach in das jeweils andere konvertieren. Datensätze lassen sich auch per Formel definieren: <code>data.frame()</code> oder <code>tibble()</code>, wobei hier die Spaltenvektoren aneinandergereiht werden. Es bietet sich an, dabei direkt Namen für die Spaltenvektoren zu vergeben:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="datenstruktur.html#cb184-1"></a><span class="co"># Erzeuge einen data.frame durch Verwendung der Spaltenvektoren aus vorherigen Matrizen,</span></span>
<span id="cb184-2"><a href="datenstruktur.html#cb184-2"></a><span class="co"># denen Namen zugewiesen werden (Denken Sie beim Definieren der Spaltenvektoren daran</span></span>
<span id="cb184-3"><a href="datenstruktur.html#cb184-3"></a><span class="co"># diese mit einem Komma voneinander zu trennen):</span></span>
<span id="cb184-4"><a href="datenstruktur.html#cb184-4"></a></span>
<span id="cb184-5"><a href="datenstruktur.html#cb184-5"></a>test_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;text&quot;</span> =<span class="st"> </span>bsp_mat[ , <span class="dv">4</span>],</span>
<span id="cb184-6"><a href="datenstruktur.html#cb184-6"></a>                      <span class="st">&quot;ist_Verb&quot;</span> =<span class="st"> </span>sav_mat[ , <span class="dv">3</span>])</span>
<span id="cb184-7"><a href="datenstruktur.html#cb184-7"></a>test_df</span></code></pre></div>
<pre><code>##       text ist_Verb
## 1 coercion        0
## 2     kann        1
## 3   nervig        0
## 4     sein        1</code></pre>
<p>In Bezug auf weitere Funktionen des Packages <code>tidyverse</code> sind tibbles ein wenig praktischer. Große tibbles werden beim Aufrufen etwas übersichtlicher angezeigt (nur die ersten 10 Zeilen).</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="datenstruktur.html#cb186-1"></a><span class="co"># Konvertiere data.frame zu tibble:</span></span>
<span id="cb186-2"><a href="datenstruktur.html#cb186-2"></a></span>
<span id="cb186-3"><a href="datenstruktur.html#cb186-3"></a>test_tib &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(test_df)</span>
<span id="cb186-4"><a href="datenstruktur.html#cb186-4"></a></span>
<span id="cb186-5"><a href="datenstruktur.html#cb186-5"></a>test_tib</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   text     ist_Verb
##   &lt;chr&gt;       &lt;dbl&gt;
## 1 coercion        0
## 2 kann            1
## 3 nervig          0
## 4 sein            1</code></pre>
<p>Einzelne Spalten können ganz einfach aufgerufen werden, in dem man den <code>$</code>-Operator benutzt. Schreibt man diesen direkt hinter den Namen des Datensatzes, klappt automatisch eine Liste mit allen Spalten auf:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="datenstruktur.html#cb188-1"></a><span class="co"># Rufe Spalte text aus Datensatz test_tib auf:</span></span>
<span id="cb188-2"><a href="datenstruktur.html#cb188-2"></a></span>
<span id="cb188-3"><a href="datenstruktur.html#cb188-3"></a>test_tib<span class="op">$</span>text</span></code></pre></div>
<pre><code>## [1] &quot;coercion&quot; &quot;kann&quot;     &quot;nervig&quot;   &quot;sein&quot;</code></pre>
<p>Es ist auch möglich, mehrere Zeilen und/oder Spalten auszugeben. Dies funktioniert wie bei Matrizen per Indexnummer:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="datenstruktur.html#cb190-1"></a><span class="co"># Gibe Zeilen 2 bis 4 aus Spalte 1 aus:</span></span>
<span id="cb190-2"><a href="datenstruktur.html#cb190-2"></a></span>
<span id="cb190-3"><a href="datenstruktur.html#cb190-3"></a>test_tib[<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>## # A tibble: 3 × 1
##   text  
##   &lt;chr&gt; 
## 1 kann  
## 2 nervig
## 3 sein</code></pre>
<p>Die Adressierung einzelner Spalten und Zeilen ermöglicht dann zum Beispiel die Berechnung von Kennwerten nur für einzelne Spalten. Z.B. kann man die Kosten für Konzertkarten im Jahr 2022 aufsummieren lassen:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="datenstruktur.html#cb192-1"></a><span class="co"># Definiere ein tibble mit 2 Variablen:</span></span>
<span id="cb192-2"><a href="datenstruktur.html#cb192-2"></a></span>
<span id="cb192-3"><a href="datenstruktur.html#cb192-3"></a>tickets_<span class="dv">2022</span> &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="st">&quot;Artist&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ed Sheeran&quot;</span>, <span class="st">&quot;Billy Ellish&quot;</span>, <span class="st">&quot;The Weeknd&quot;</span>, <span class="st">&quot;Dua Lipa&quot;</span>,</span>
<span id="cb192-4"><a href="datenstruktur.html#cb192-4"></a>                                  <span class="st">&quot;Imagine Dragons&quot;</span>),</span>
<span id="cb192-5"><a href="datenstruktur.html#cb192-5"></a>                       <span class="st">&quot;Kosten&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="fl">79.32</span>, <span class="dv">282</span>, <span class="dv">116</span>, <span class="dv">136</span>, <span class="fl">68.71</span>))</span>
<span id="cb192-6"><a href="datenstruktur.html#cb192-6"></a></span>
<span id="cb192-7"><a href="datenstruktur.html#cb192-7"></a><span class="co"># Berechne die Summe einer dieser beiden Variablen:</span></span>
<span id="cb192-8"><a href="datenstruktur.html#cb192-8"></a></span>
<span id="cb192-9"><a href="datenstruktur.html#cb192-9"></a><span class="kw">sum</span>(tickets_<span class="dv">2022</span><span class="op">$</span>Kosten)</span></code></pre></div>
<pre><code>## [1] 682.03</code></pre>
<p>Der <code>$</code>-Operator wird für fast alle höheren Datentypen verwendet, um auf diese zuzugreifen. Dies gilt zum Beispiel auch für die meisten Outputs von Funktionen (<em>t</em>-Test, Anova, SEMs) und Listen, es müssen aber wie im tibble, Namen für die Listeneinträge vergeben worden sein:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="datenstruktur.html#cb194-1"></a><span class="co"># Erstelle eine Liste mit diversen Objekten aus meinem Workspace und vergebe Namen </span></span>
<span id="cb194-2"><a href="datenstruktur.html#cb194-2"></a><span class="co"># (über welche Sie später auch auf die Listeneinträge zugreifen können):</span></span>
<span id="cb194-3"><a href="datenstruktur.html#cb194-3"></a></span>
<span id="cb194-4"><a href="datenstruktur.html#cb194-4"></a>list_of_thingis &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">tibbi =</span> test_tib,</span>
<span id="cb194-5"><a href="datenstruktur.html#cb194-5"></a>                        <span class="dt">ticki =</span> tickets_<span class="dv">2022</span>,</span>
<span id="cb194-6"><a href="datenstruktur.html#cb194-6"></a>                        <span class="dt">geschwi =</span> geschwister,</span>
<span id="cb194-7"><a href="datenstruktur.html#cb194-7"></a>                        <span class="dt">vari =</span> var1)</span>
<span id="cb194-8"><a href="datenstruktur.html#cb194-8"></a></span>
<span id="cb194-9"><a href="datenstruktur.html#cb194-9"></a><span class="co"># Per $-Operator und Name in der Liste wird ein Eintrag gewählt:</span></span>
<span id="cb194-10"><a href="datenstruktur.html#cb194-10"></a></span>
<span id="cb194-11"><a href="datenstruktur.html#cb194-11"></a>list_of_thingis<span class="op">$</span>geschwi</span></code></pre></div>
<pre><code>## [1]  8  4 12</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="datenstruktur.html#cb196-1"></a><span class="co"># Wurde kein Name für den Listeneintrag vergeben, führt der Aufruf per Name ins Leere:</span></span>
<span id="cb196-2"><a href="datenstruktur.html#cb196-2"></a></span>
<span id="cb196-3"><a href="datenstruktur.html#cb196-3"></a>mylist<span class="op">$</span>vec_<span class="dv">4</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="datenstruktur.html#cb198-1"></a> <span class="co"># Mit mehreren $ können Sie tiefere Ebenen erreichen:</span></span>
<span id="cb198-2"><a href="datenstruktur.html#cb198-2"></a></span>
<span id="cb198-3"><a href="datenstruktur.html#cb198-3"></a>list_of_thingis<span class="op">$</span>ticki<span class="op">$</span>Artist</span></code></pre></div>
<pre><code>## [1] &quot;Ed Sheeran&quot;      &quot;Billy Ellish&quot;    &quot;The Weeknd&quot;     
## [4] &quot;Dua Lipa&quot;        &quot;Imagine Dragons&quot;</code></pre>
<p>Mir fällt auf, dass ich den Namen einer Künstlerin in <code>tickets_2022</code> falsch geschrieben habe, das möchte ich ändern:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="datenstruktur.html#cb200-1"></a><span class="co"># $-Operator und Indexing per Nummer lassen sich auch kombinieren:</span></span>
<span id="cb200-2"><a href="datenstruktur.html#cb200-2"></a></span>
<span id="cb200-3"><a href="datenstruktur.html#cb200-3"></a>tickets_<span class="dv">2022</span><span class="op">$</span>Artist[<span class="dv">2</span>] &lt;-<span class="st"> &quot;Billy Eilish&quot;</span></span></code></pre></div>
<p>Sie können also nicht nur Elemente aus Datensätzen abrufen, sondern diese mit dem <code>&lt;-</code> neu zuweisen. Sie können das $ auch verwenden um ganz neue Spalten in die Datensätze einzufügen:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="datenstruktur.html#cb201-1"></a><span class="co"># Definiere eine neue Spalte im Datensatz:</span></span>
<span id="cb201-2"><a href="datenstruktur.html#cb201-2"></a></span>
<span id="cb201-3"><a href="datenstruktur.html#cb201-3"></a>tickets_<span class="dv">2022</span><span class="op">$</span>Priorität &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb201-4"><a href="datenstruktur.html#cb201-4"></a></span>
<span id="cb201-5"><a href="datenstruktur.html#cb201-5"></a><span class="co"># Besser ae statt ä im Variablennamen:</span></span>
<span id="cb201-6"><a href="datenstruktur.html#cb201-6"></a></span>
<span id="cb201-7"><a href="datenstruktur.html#cb201-7"></a>tickets_<span class="dv">2022</span><span class="op">$</span>Prioritaet &lt;-<span class="st"> </span>tickets_<span class="dv">2022</span><span class="op">$</span>Priorität</span>
<span id="cb201-8"><a href="datenstruktur.html#cb201-8"></a></span>
<span id="cb201-9"><a href="datenstruktur.html#cb201-9"></a>tickets_<span class="dv">2022</span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 4
##   Artist          Kosten Priorität Prioritaet
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 Ed Sheeran        79.3         2          2
## 2 Billy Eilish     282           4          4
## 3 The Weeknd       116           3          3
## 4 Dua Lipa         136           5          5
## 5 Imagine Dragons   68.7         1          1</code></pre>
<p>Nun gibt es eine Spalte zu viel. Ich möchte sie wieder löschen - vorsichtig hiermit(!):</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="datenstruktur.html#cb203-1"></a>tickets_<span class="dv">2022</span><span class="op">$</span>Priorität &lt;-<span class="st"> </span><span class="ot">NULL</span> <span class="co"># Entfernt die Spalte </span></span></code></pre></div>
<p>Mit den Funktionen <code>rbind()</code> und <code>cbind()</code> lassen sich die data.frames und tibbles um gleichbreite bzw. gleichlange Vektoren oder Datensätze ergänzen. Verbinden Sie ein tibble und einen <code>data.frame</code> miteinander, werden diese zum Format <code>tibble</code> coerced. Zunächst füge ich zwei weitere Zeilen hinzu, dann zwei weitere Spalten:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="datenstruktur.html#cb204-1"></a><span class="co"># Zwei weitere Konzerte in neunem data.frame:</span></span>
<span id="cb204-2"><a href="datenstruktur.html#cb204-2"></a></span>
<span id="cb204-3"><a href="datenstruktur.html#cb204-3"></a>extra_Konzerte &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;Artist&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Elton John&quot;</span>, <span class="st">&quot;Coldplay&quot;</span>, <span class="st">&quot;RHCP&quot;</span>),</span>
<span id="cb204-4"><a href="datenstruktur.html#cb204-4"></a>                             <span class="st">&quot;Kosten&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="fl">139.00</span>, <span class="fl">259.00</span>, <span class="dv">200</span>),</span>
<span id="cb204-5"><a href="datenstruktur.html#cb204-5"></a>                             <span class="st">&quot;Prioritaet&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.7</span>, <span class="fl">2.3</span>, <span class="fl">1.7</span>))</span>
<span id="cb204-6"><a href="datenstruktur.html#cb204-6"></a></span>
<span id="cb204-7"><a href="datenstruktur.html#cb204-7"></a><span class="co"># Zeilenweises Aneinanderbinden:</span></span>
<span id="cb204-8"><a href="datenstruktur.html#cb204-8"></a></span>
<span id="cb204-9"><a href="datenstruktur.html#cb204-9"></a>tickets_<span class="dv">2022</span> &lt;-<span class="st"> </span><span class="kw">rbind</span>(tickets_<span class="dv">2022</span>, extra_Konzerte)</span>
<span id="cb204-10"><a href="datenstruktur.html#cb204-10"></a></span>
<span id="cb204-11"><a href="datenstruktur.html#cb204-11"></a><span class="co"># Zwischenergebnis:</span></span>
<span id="cb204-12"><a href="datenstruktur.html#cb204-12"></a></span>
<span id="cb204-13"><a href="datenstruktur.html#cb204-13"></a>tickets_<span class="dv">2022</span></span></code></pre></div>
<pre><code>## # A tibble: 8 × 3
##   Artist          Kosten Prioritaet
##   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;
## 1 Ed Sheeran        79.3        2  
## 2 Billy Eilish     282          4  
## 3 The Weeknd       116          3  
## 4 Dua Lipa         136          5  
## 5 Imagine Dragons   68.7        1  
## 6 Elton John       139          2.7
## 7 Coldplay         259          2.3
## 8 RHCP             200          1.7</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="datenstruktur.html#cb206-1"></a><span class="co"># Ort und Begleitung in neuem tibble:</span></span>
<span id="cb206-2"><a href="datenstruktur.html#cb206-2"></a></span>
<span id="cb206-3"><a href="datenstruktur.html#cb206-3"></a>ort_begleitung &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="st">&quot;Ort&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Frankfurt&quot;</span>, <span class="st">&quot;London&quot;</span>, <span class="st">&quot;Muenchen&quot;</span>, <span class="st">&quot;Berlin&quot;</span>, <span class="st">&quot;Gdynia&quot;</span>, <span class="st">&quot;Frankfurt&quot;</span>, <span class="st">&quot;Frankfurt&quot;</span>, <span class="st">&quot;Koeln&quot;</span>),</span>
<span id="cb206-4"><a href="datenstruktur.html#cb206-4"></a>                         <span class="st">&quot;Begleitung&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Juergen&quot;</span>, <span class="st">&quot;Samu&quot;</span>, <span class="st">&quot;Anni&quot;</span>, <span class="st">&quot;Jan und Laura&quot;</span>, <span class="st">&quot;Oma&quot;</span>, <span class="st">&quot;Papa&quot;</span>, <span class="st">&quot;Schwester&quot;</span>, <span class="st">&quot;die Girls&quot;</span>))</span>
<span id="cb206-5"><a href="datenstruktur.html#cb206-5"></a></span>
<span id="cb206-6"><a href="datenstruktur.html#cb206-6"></a><span class="co"># Spaltenweises Aneinanderbinden:</span></span>
<span id="cb206-7"><a href="datenstruktur.html#cb206-7"></a></span>
<span id="cb206-8"><a href="datenstruktur.html#cb206-8"></a>tickets_<span class="dv">2022</span> &lt;-<span class="st"> </span><span class="kw">cbind</span>(tickets_<span class="dv">2022</span>, ort_begleitung)</span>
<span id="cb206-9"><a href="datenstruktur.html#cb206-9"></a></span>
<span id="cb206-10"><a href="datenstruktur.html#cb206-10"></a><span class="co"># Endergebnis:</span></span>
<span id="cb206-11"><a href="datenstruktur.html#cb206-11"></a></span>
<span id="cb206-12"><a href="datenstruktur.html#cb206-12"></a>tickets_<span class="dv">2022</span></span></code></pre></div>
<pre><code>##            Artist Kosten Prioritaet       Ort    Begleitung
## 1      Ed Sheeran  79.32        2.0 Frankfurt       Juergen
## 2    Billy Eilish 282.00        4.0    London          Samu
## 3      The Weeknd 116.00        3.0  Muenchen          Anni
## 4        Dua Lipa 136.00        5.0    Berlin Jan und Laura
## 5 Imagine Dragons  68.71        1.0    Gdynia           Oma
## 6      Elton John 139.00        2.7 Frankfurt          Papa
## 7        Coldplay 259.00        2.3 Frankfurt     Schwester
## 8            RHCP 200.00        1.7     Koeln     die Girls</code></pre>
<p>Ein Unterschied zwischen tibbles und data.frames ist, dass tibbles keine Zeilennamen kennen. Das vereinfacht das Format. Möchten Sie trotzdem gerne Zeilennamen vergeben, müssen Sie sich mit einer neuen Variable (z.B. <code>namevec</code>) behelfen, die Sie mit <code>relocate(tib, namevec)</code> an den Anfang des Datensatzes stellen können.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="datenstruktur.html#cb208-1"></a><span class="co"># Definiere ein einfaches tibble mit Zeilennamen in einer Spalte:</span></span>
<span id="cb208-2"><a href="datenstruktur.html#cb208-2"></a></span>
<span id="cb208-3"><a href="datenstruktur.html#cb208-3"></a>newtib &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="st">&quot;sp1&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="st">&quot;namevec&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Zeile1&quot;</span>, <span class="st">&quot;Zeile2&quot;</span>, <span class="st">&quot;Zeile3&quot;</span>))</span>
<span id="cb208-4"><a href="datenstruktur.html#cb208-4"></a></span>
<span id="cb208-5"><a href="datenstruktur.html#cb208-5"></a>newtib</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##     sp1 namevec
##   &lt;dbl&gt; &lt;chr&gt;  
## 1     1 Zeile1 
## 2     2 Zeile2 
## 3     3 Zeile3</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="datenstruktur.html#cb210-1"></a><span class="co"># Sortiere den Namenvector in Spalte 1:</span></span>
<span id="cb210-2"><a href="datenstruktur.html#cb210-2"></a></span>
<span id="cb210-3"><a href="datenstruktur.html#cb210-3"></a>newtib &lt;-<span class="st"> </span><span class="kw">relocate</span>(newtib, namevec)</span>
<span id="cb210-4"><a href="datenstruktur.html#cb210-4"></a></span>
<span id="cb210-5"><a href="datenstruktur.html#cb210-5"></a>newtib</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   namevec   sp1
##   &lt;chr&gt;   &lt;dbl&gt;
## 1 Zeile1      1
## 2 Zeile2      2
## 3 Zeile3      3</code></pre>
<p>Mit dem Hinzufügen und Abändern und Vertauschen von Spaltenvektoren haben wir schon ein bisschen an der Oberfläche der Möglichkeiten zur Datenaufbereitung gekratzt, die in der nächsten Sitzung ausführlich behandelt werden. Jetzt, wo Sie mit dem Management von Datensätzen vertraut sind, wollen wir vorhandene Datensätze einlesen:</p>
</div>
<div id="einlesen-und-speichern-von-daten" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.9</span> Einlesen und Speichern von Daten<a href="datenstruktur.html#einlesen-und-speichern-von-daten" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Daten können in R Studio auf unterschiedliche Weise eingelesen werden.</p>
<p><img src="_static/penguin.png" style="width:60.0%" /></p>
<p>Es gibt Packages mit frei verfügbaren Datensätzen, z.B. einen Datensatz zu Pinguinen: <code>palmerpenguins</code>.</p>
<p>Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version 0.1.0.
<a href="https://allisonhorst.github.io/palmerpenguins/" class="uri">https://allisonhorst.github.io/palmerpenguins/</a></p>
<p>Nach einmaliger Installation des Packages (<code>install.packages("palmerpenguins"</code>) muss es geladen werden:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="datenstruktur.html#cb212-1"></a><span class="co"># Jedes Mal beim Durchlaufen des Skripts soll das Package angehängt werden </span></span>
<span id="cb212-2"><a href="datenstruktur.html#cb212-2"></a><span class="co"># (ohne &quot;&quot;, weil R das Package bereits installiert hat und kennt):</span></span>
<span id="cb212-3"><a href="datenstruktur.html#cb212-3"></a><span class="kw">library</span>(palmerpenguins) </span>
<span id="cb212-4"><a href="datenstruktur.html#cb212-4"></a><span class="co"># penguins ist zwar schon ein tibble, aber im Workspace rechts ist es nicht zu sehen,</span></span>
<span id="cb212-5"><a href="datenstruktur.html#cb212-5"></a><span class="co"># daher weise ich es dem Namen pingus zu:</span></span>
<span id="cb212-6"><a href="datenstruktur.html#cb212-6"></a></span>
<span id="cb212-7"><a href="datenstruktur.html#cb212-7"></a>pingus &lt;-<span class="st"> </span>penguins</span></code></pre></div>
<p>In der Regel werden Sie aber einen selbst erhobenen oder einen aus dem Internet heruntergeladenen Datensatz einlesen wollen. Mein Tipp ist, den Datensatz in das Working Directory zu speichern, dann finden Sie ihn schneller und er ist in der Nähe Ihrer Auswertung. Noch eleganter ist es einen Unterordner namens data in den Ordner des Working Directories anzulegen, in den Sie alle Datensätze zu ihrem Projekt speichern können. Im <code>File</code>-tab unten rechts navigieren Sie zu der Datei mit dem Datensatz und dann klicken Sie diese zum Importieren des Datensatzes an (alternativ können Sie im <code>Environment</code>-tab über den Button <code>Import Dataset</code> einen Datensatz zum Importieren auf ihrem Computer suchen). In RStudio erscheint ein Fenster zum Importieren, unten rechts wird der automatisch der dem Dateiformat und unten links angegebenen Optionen entspricht, ggf. werden sogar benötigte Packages geladen.</p>
<p>Um einen Datensatz per Code zu importieren sind Dateiformat, die Trennzeichen (<code>sep</code>) und die Dezimalzeichen (<code>dec</code>) besonders relevant. Das Standard-Dateiformat ist <code>.csv</code>, hier sind Kommata Trennzeichen (<code>sep=","</code>) und Punkte kennzeichnen Dezimalstellen (<code>dec="."</code>). Sie können die Funktionen <code>read_cvs()</code> oder <code>read_delim()</code> für dieses Dateiformat verwenden, letztere sollte Trenn- und Dezimalzeichen automatisch erkennen. Hier ist eine Übersicht zu den Einlesefunktionen in base R (also ohne zusätzlich geladene Packages) und im tidyverse Package, der Unterschied ist, dass base R Funktionen die Daten in einen data.frame laden, tidyverse Funktionen in ein tibble:</p>
<table>
<thead>
<tr class="header">
<th align="center">Funktion zum</th>
<th align="center"><code>sep</code></th>
<th align="center"><code>dec</code></th>
<th align="center">in base R</th>
<th align="center">im tidverse</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="ul">autolesen</span></td>
<td align="center">auto</td>
<td align="center"><code>"."</code></td>
<td align="center"><code>read.delim()</code></td>
<td align="center"><code>read_delim()</code></td>
</tr>
<tr class="even">
<td align="center">autolesen</td>
<td align="center">auto</td>
<td align="center"><code>","</code></td>
<td align="center"><code>read.delim2()</code></td>
<td align="center"><code>read_delim2()</code></td>
</tr>
<tr class="odd">
<td align="center">lesen von</td>
<td align="center"><code>","</code></td>
<td align="center"><code>"."</code></td>
<td align="center"><code>read.csv()</code></td>
<td align="center"><code>read_csv()</code></td>
</tr>
<tr class="even">
<td align="center">lesen von</td>
<td align="center">leer</td>
<td align="center"><code>"."</code></td>
<td align="center"><code>read.table()</code></td>
<td align="center"><code>read_table()</code></td>
</tr>
<tr class="odd">
<td align="center"><span class="ul">schreiben</span></td>
<td align="center"><code>","</code></td>
<td align="center"><code>"."</code></td>
<td align="center"><code>write.csv()</code></td>
<td align="center"><code>write_csv()</code></td>
</tr>
</tbody>
</table>
<p>Wichtigstes und oft einziges Funktionsargument ist der vollständige Dateiname, er wird in <code>"</code> angegeben. Alternativ können Sie statt dem Dateinamen auch die Funktion <code>file.choose()</code> angeben, die dann ein interaktives Fenster zur Dateiauswahl öffnet. Falls Sie die Datei in einem Unterordner vom Working Directory gespeichert haben (ich erstelle mir meist einen Unterordner namens data), wird der Name des Unterordners mit einem <code>/</code> dem Dateinamen vorangestellt. Vergessen Sie nicht, innerhalb der Anführungszeichen sowohl den Namen des Datensatzes als auch das Dateiformat nach einem Punkt zu nennen (z.B.“data/Datensatz1.csv”). Das Einlesen von Daten funktioniert nur, wenn der einzulesende Datensatz per <code>&lt;-</code> einem Namen zugewiesen wird. Beispiel zum Laden eines .csv Datensatzes:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="datenstruktur.html#cb213-1"></a><span class="co"># Lese meinen socken.csv Datensatz aus dem Unterordner data in ein tibble namens socken:</span></span>
<span id="cb213-2"><a href="datenstruktur.html#cb213-2"></a></span>
<span id="cb213-3"><a href="datenstruktur.html#cb213-3"></a>socken &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&quot;data/socken.csv&quot;</span>) </span>
<span id="cb213-4"><a href="datenstruktur.html#cb213-4"></a></span>
<span id="cb213-5"><a href="datenstruktur.html#cb213-5"></a>socken </span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##   Stoff Gewicht Bewertung
##   &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;
## 1 Seide    0.03        10
## 2 Wolle    0.08         9</code></pre>
<p>Excel Dateien werden mit Funktionen <code>read_excel()</code>, <code>read_xls()</code> oder <code>read_xlsx()</code> aus dem Package <code>readxl</code>, SPSS Dateien mit der Funktion <code>read_svs()</code> aus dem Package <code>haven</code> eingelesen. Auch zum Einlesen von SAS, Stata oder anderen Dateiformaten gibt es entsprechende Funktionen. Die Standardfunktion zum Abspeichern von Datensätzen in eine Datei ist <code>write_csv()</code>, bzw. in base R <code>write.csv()</code>, da dieses Dateiformat die beste Kompatibilität mit anderer Software aufweist. Beim Speichern müssen Sie neben dem Dateinamen und ggf. dem Dateipfad noch den Namen des Datensatzes, den Sie speichern möchten, als erstes Funktionsargument angeben:</p>
<p>Es gibt noch ein weiteres erwähnenswertes Dateiformat, das von R selbst: <code>.RDS</code>. Die Funktionen <code>saveRDS()</code> und <code>readRDS()</code> bieten die beste Funktionalität in R.</p>
</div>
<div id="datensätze-dat-anschauen" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.10</span> Datensätze (dat) anschauen<a href="datenstruktur.html#datensätze-dat-anschauen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Um sich einen geladenen Datensatz komplett anzuschauen, können Sie diesen im <code>Workspace</code> anklicken, oder deren Namen an die Funktion <code>view(dat)</code> übergeben. Der Datensatz <code>pingus</code> hat 344 Zeilen, das kann ich im Workspace sehen. Da er als <code>tibble</code> gespeichert ist, könnte ich diesen per Name aufrufen (nur die ersten 10 Zeilen würden dargestellt werden). Mit der Funktion <code>head(dat)</code> wird einem der Kopf des Datensatzes ausgegeben, genau genommen die ersten 6 Zeilen. Die Funktion ist besonders nützlich für große <code>data.frames</code>, da diese beim Aufrufen per Name die Console überfüllen.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="datenstruktur.html#cb215-1"></a><span class="co"># Zeige die ersten 6 Zeilen jeder Variable an:</span></span>
<span id="cb215-2"><a href="datenstruktur.html#cb215-2"></a></span>
<span id="cb215-3"><a href="datenstruktur.html#cb215-3"></a><span class="kw">head</span>(pingus)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 8
##   species island bill_…¹ bill_…² flipp…³ body_…⁴ sex    year
##   &lt;fct&gt;   &lt;fct&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt; &lt;fct&gt; &lt;int&gt;
## 1 Adelie  Torge…    39.1    18.7     181    3750 male   2007
## 2 Adelie  Torge…    39.5    17.4     186    3800 fema…  2007
## 3 Adelie  Torge…    40.3    18       195    3250 fema…  2007
## 4 Adelie  Torge…    NA      NA        NA      NA &lt;NA&gt;   2007
## 5 Adelie  Torge…    36.7    19.3     193    3450 fema…  2007
## 6 Adelie  Torge…    39.3    20.6     190    3650 male   2007
## # … with abbreviated variable names ¹​bill_length_mm,
## #   ²​bill_depth_mm, ³​flipper_length_mm, ⁴​body_mass_g</code></pre>
<p>Einen Überlick über die Datenstruktur, inklusive Factor-<code>levels</code> (der Faktorstufen) erhalten Sie mit der Funktion <code>str(dat)</code>:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="datenstruktur.html#cb217-1"></a><span class="co"># Zeige die Struktur der Daten:</span></span>
<span id="cb217-2"><a href="datenstruktur.html#cb217-2"></a></span>
<span id="cb217-3"><a href="datenstruktur.html#cb217-3"></a><span class="kw">str</span>(pingus)</span></code></pre></div>
<pre><code>## tibble [344 × 8] (S3: tbl_df/tbl/data.frame)
##  $ species          : Factor w/ 3 levels &quot;Adelie&quot;,&quot;Chinstrap&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ island           : Factor w/ 3 levels &quot;Biscoe&quot;,&quot;Dream&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
##  $ bill_length_mm   : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
##  $ bill_depth_mm    : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
##  $ flipper_length_mm: int [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
##  $ body_mass_g      : int [1:344] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...
##  $ sex              : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 1 1 NA 1 2 1 2 NA NA ...
##  $ year             : int [1:344] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</code></pre>
<p>Zeile 1 gibt Auskunft über Größe und die Klasse des Objektes, tibbles sind eine Art data.frame. In den weiteren Zeilen werden die Datentypen bzw. Faktorlevel und die ersten Werte der Spaltenvektoren angezeigt.</p>
<div id="häufigkeit-von-factorlevels" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.10.1</span> Häufigkeit von Factorlevels<a href="datenstruktur.html#häufigkeit-von-factorlevels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Faktoren und die Zuweisung mit der Funktion <code>factor()</code> kennen Sie bereits aus dem vorherigen Kapitel. Die Funktion <code>levels(Faktor)</code> gibt die möglichen Ausprägungen einer Faktorvariable wieder. Faktoren eignen sich oft besser als Vektoren zum Plotten, Gruppieren oder für Häufigkeitstabellen. Mit der Funktion <code>count(dat, var)</code> lassen sich beispielsweise die Häufigkeiten der Levels eines Faktors ausgeben:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="datenstruktur.html#cb219-1"></a><span class="co"># Zähle in pingu die Häufigkeiten der Levels des Faktors species:</span></span>
<span id="cb219-2"><a href="datenstruktur.html#cb219-2"></a></span>
<span id="cb219-3"><a href="datenstruktur.html#cb219-3"></a><span class="kw">count</span>(pingus, island)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   island        n
##   &lt;fct&gt;     &lt;int&gt;
## 1 Biscoe      168
## 2 Dream       124
## 3 Torgersen    52</code></pre>
<p>Mit der ersten deskriptiven Statistik zu einem Datensatz in R schließen wir dieses Kapitel ab. Es folgen geschickte Methoden zur Datenaufbereitung.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="erste-schritte-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datenaufbereitung-mit-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
