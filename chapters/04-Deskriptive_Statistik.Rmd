# Deskriptive Statistik

Deskriptive Statistik wird benutzt, um Daten anhand von Kennzahlen zu beschreiben.
Diese Kennzahlen werden auch häufig statistische Maße oder statistische Parameter
gennant. Vor allem bei umfangreichen Datensätze können deskritive Statistiken
hilfreich sein, um einen Überblick über die vorhandene *Datenstruktur* zu gewinnen.

Zu den gängigsten desrkiptiven statistischen Maßen zählen beispielsweise Lagemaße, wie der 
**Mittelwert**, welches ein Maß für die zentrale Tendenz einer Häufigkeitsverteilung
darstellt. Maße wie die **Standardabweichung** oder die Varianz geben dagagen
Auskünft über die Streuung einer Variable. Es gibt auch andere deskriptive Maße,
die Aussagen über Zusammenhänge zwischen verschiedener Variablen in einem Datensatz geben
(sogenannte Zusammenhangsmaße). Hierzu zählt beispielswese die **Korrelation**.

Häufig kommen deskriptive Statistiken im Rahmen von einer *Explorativen Datenanalyse* (EDA) zum
Einsatz. EDA stellt häufig dein Einstieg in einer meistens komplexeren und (häufig)
theoriegeleitete Datenanalyse. EDA wird auch häufig dazu verwendet die Qualität und Struktur
der Daten zu untersuchen.

Im ersten Teil dieses Abschnitts werden Sie sehen, wie einige der gängisten statistischen
Parameter, wie Mittelwert, Median und Standardabweichung mit R berechnet werden können.

## Dateninformationen

Für den folgenden Abschnitt benötigen Sie den `iris` Datensatz.
Der Datensatz ist Teil von der Basisinstallation von R und wird automaisch (im Hintergrund) geladen.

```{r}
# Speichern Sie den iris-Datensatz in einer neuen Variable names 'data'
data <- iris
```

Benutzen Sie `head()`, um die ersten 5 Zeilen des Datensatzes zu sehen.

```{r}
head(dat)
```

Eine weitere Funktion, mit der Sie die Struktur eines Datensatzes untersuchen können
ist `str()`.`str()` steht für *structure*. Der output dieser Funktion zeigt Basisinformationen des
Datensatzes, wie die Anzahl and Beobachtugen (i.e., obs. für observations) und 
Variablen (i.e., variables). Wie Sie wissen, Beobachtungen bilden die Zeilen und Variablen die
Spalten eines Datensatzes.

```{r}
str(dat)
```

`str()` erlaubt erste Einblicke in den Datensatz. Oben sehen Sie einige Informationen,
wie beispielsweise Name (e.g., `Sepal.Length`), Variablen-Typ (e.g., `num` für numerisch),
sowie typische Werte, die die verschiede Variablen im Datensatz annehmen können
(e.g., `5.1 4.9 4.7 4.6`).

Der Datensatz erhält also 150 Beobachtungen und 5 Variablen. Im konkreten handel es sich
um die Länge und Breite des Kelch- und des Blütenblattes sowie die Art von 150 Blumen.
Länge und Breite des Kelch- und Blütenblattes sind numerische Variablen. 
Die Art der Blume ist ein Faktor mit 3 Stufen (i.e., `Factor w/ 3 levels`).

## Lagemaße

### Minimum und Maximum

Minimum und Maximum können mit den Funktionen `min()` und `max()` ermittelt werden:

```{r}
# Berechenn Sie das Minumum für die Variable Sepal.Length
min(dat$Sepal.Length)
```

```{r}
# Berechenn Sie das Maximum für die Variable Sepal.Width
max(dat$Sepal.Width)
```

Alternativ, können Sie `range()` (Spannweite) benutzen, um Minima und Maxima zu berechnen:

```{r}
# Berechenn Sie die Spannweite von Sepal.Width und speichern
# Sie das Ergebniss in einer neuen Variable namens "width_range"
width_range <- range(dat$Sepal.Width)
width_range
```

Wie sie Sehen berechenet `range()` eigentlich einen Vektor, der das Minimum und das 
Maximum (in dieser Reihenfolge) enthält.
Genau genommen müssen Sie diese Werte von einander abziehen, um die Spannweite von 
`Sepal.width` zu bekommen:

```{r}
# max - min
width_range[2] - width_range[1]
```

### Quantile

Andere häufig eingesetzte deskriptive Parameter sind Quantile (oder Perzentile).

Der Median ist beispielswese äquivalent zum 50. Perzentil einer Variable, weil 50% der 
Werte einer Varible unterhalb/oberhalb dises Wertes liegen.

Sie können diese Annahme mit den Funktionen `median()` und `quantile()`überprüfen.

```{r}
# median
median(dat$Sepal.Length)
```
```{r}
# 0.5 steht für 50%
quantile(dat$Sepal.Length, 0.5)
```

Sie können `quantile()` auch benutzen, um unterschiedliche Perzentile auf einmal zu berechnen.

```{r}
# mir 0.25, 0.5, und 0.75 können wir die Grenzen für die
# verschiedenen Quartile berechnen
quantile(dat$Sepal.Length, c(0.25, 0.5, 0.75))
```

Dies bedeutet, dass 25% de Werte sich unterhalb von 5.1, 50% unterhalb von 5.8 und 75% unterhalb 6.4 befinden. Im Umkehrschluss befinden sich 25% der Werte oberhalb 6.4.

### Interquantilsabstand

Manchmal möchte man wissen wie groß der Abstand zwischen bestimmte Quantile ist, 
um Aussagen über Beobachtungen, die innerhalb oder außerhalb eines bestimmten 
Wertebereichs liegen, zu treffen. Häufig wird hierfür der Interquartilsabstand benutzt,
welches als der Abstand zwischen den 75. und 25. Perzentil definiert ist.

```{r}
# IQR steht für interquartile range
IQR(dat$Sepal.Length)
```

Sie können dies überprüfen, indem Sie die Quartile 
"händisch" berechnen und von einander abziehen.

```{r}
as.numeric(quantile(dat$Sepal.Length, 0.75) - quantile(dat$Sepal.Length, 0.25))
```

Den Interquartilsabstand kann ebenfalls anhand eines Boxplots dargestellt werden. Unten sehen
Sie den 75. Perzentil (nach unten zeigenden Dreieck), den Median (ein X) und den 25. Perzentil 
(nach oben zeigenden dreieck) dargestellet. Den grau schattierten Bereich um den Median, zeigt
der Wertebereich, in dem sich 50% der Werte einer Verteilung befinden. 


```{r, fig.width = 4, fig.align = "center"}
# IQR visualisieren anhand einer box-plots

# zeichne box-plot
boxplot(dat$Sepal.Length, ylim = c(3, 10))
# zeichen quatile 0.75
points(quantile(dat$Sepal.Length, 0.75), 
       col = 'red', cex = 2, pch = 6, lwd = 2)
# 0.50
points(quantile(dat$Sepal.Length, 0.50), 
       col='black', cex=2, pch=4, lwd = 2)
# 0.25
points(quantile(dat$Sepal.Length, 0.25), 
       col='blue', cex=2, pch=2, lwd = 2)
```


### Mittelwert

Ähnlich zum Median, stellt der Mittelwert ein wichtiges Maß für die zentralen Tendenz
einer Variable. Sie können den Mittelwert mit der Funktion `mean()` berechnet.

```{r}
# Mittelwert von Sepal.Width
mean(dat$Sepal.Width)
```

Bitte beachten Sie, dass sollte eine Variable mindestens einen fehlenden Wert erhalten, sollten Sie `mean(dat$Sepal.Width, na.rm = TRUE)`, um den Mittelwert unter Ausschluss der fehlenden Werte zu berechnen. 
Das Argument `na.rm = TRUE` kann für die meisten in diesem Abschnitt vorgestellten Funktionen verwendet werden, nicht nur für den Mittelwert.

## Explorative Datenanalyse

Das Ziel des folgenden A EDA ist ein Verstänis über vorliegende Daten zu entwickeln.

Am einfachsten ist es, Fragen als Hilfsmittel zu verwenden, um eine Untersuchung zu steuern.
Fragen lenken die Aufmerksamkeit auf einen bestimmten Teil des Datensatzes und hilft bei der Entscheidung, welche Parameter oder Dieagrame hilfreich sein könnten.

Dabei wird ein besonder Fokus aud folgende Punkte gelegt:

1. Wie können Informationen über die Datenstruktur gewonnen werden?

2. Welche Graphiken eignen sich um erste Informationen über den vorliegenden
Datensatz zu visualisieren?

3. Wie können diese Informationen benutzt werden, um erste Forschungsfragen
zu beantworten? Was muss dabei beachtet werden? (z.B. gibt es fehlende Werte)

Es gibt keine standarisierte Vorgehensweise, um eine EDA durchzuführen. Vielmehr ist EDA ein 
(mehr oder weniger) dynamischer Prozess, in dem man einer vielzahl von Ideen untersucht.
Manche Ideen werden sich weiter entwicklen, während andere nicht weiter verfolgt werden. 
Im Verlauf der Exploration kritalizieren sich informative Aussagen, die **etwas über das vorliegende
Datensatz erzählen**.